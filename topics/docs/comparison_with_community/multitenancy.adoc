---
title: "Multitenancy"
type: "document"
category: "Comparing Maistra and upstream Istio"
description: "Maistra supports multiple control planes"
weight: 4
---

Maistra supports multitenancy, which allows multiple control planes to exist within a
single cluster. Each of these control planes have a ServiceMeshMemberRoll, which contains
a list of namespaces that belong to that control plane. Namespaces not in this list are not
part of that control plane.

The main difference that multi-tenancy provides from single-tenancy is the scope of privileges used
by the control plane components (Galley, Pilot, Mixer, Citadel, etc). The components in a mult-tenant
installation no longer use cluster scoped RBAC, i.e. ClusterRoleBinding, and instead rely on namespace
scoped RBAC, i.e. RoleBinding. As a result of this:

* Every namespace in the members list will have a RoleBinding for each service account associating it with the control plane.
* Each control plane will only watch the namespaces listed in the ServiceMeshMemberRoll
* Every namespace in a control plane will have a maistra.io/member-of label added to it, whose value will be the namespace containing the control plane installation.
* ServiceMeshPolicy replaces MeshPolicy for configuration of control-plane-wide authentication policies. This must be created in the same namespace as the control plane.
* ClusterRbacConfig replaces ServicemeshRbacConfig for configuration of control-plane-wide role based access control. This must be created in the same namespace as teh control plane.
* When the cluster network is configured to use SDN mode (network policy or multitenant), NetworkPolicy resources are added to every project in the mesh to ensure network
connectivity between projects. External traffic must be listed in the network policy in order to be able to communicate with pods in the mesh.
* When the cluster network is configured in multitenant mode, mesh projects must be joined using the command `oc adm pod-network join-projects --to istio-system project1 project2`
in order to communicate.


